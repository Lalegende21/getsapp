<section>
  <div class="cards">
    <div class="img">
      <div class="image">
        <img *ngIf="safeImageUrl; else noImage" [src]="safeImageUrl" />
        <ng-template #noImage>
          <img src="/images/image_not_found.jpg" alt="user" />
        </ng-template>
      </div>
      <form
        *ngIf="
          role === 'EDITEUR' || role === 'MANAGER' || role === 'ADMINISTRATEUR'
        "
        (ngSubmit)="uploadImageProfessor(image)"
        enctype="multipart/form-data"
      >
        <label for="file-upload" class="custom-file-upload">
          <mat-icon>cloud_upload</mat-icon><span>Modifier</span>
        </label>
        <input
          id="file-upload"
          type="file"
          name="image"
          (change)="onFileSelected($event)"
        />
      </form>
    </div>
    <div class="text">
      <div class="heading">
        <div>
          <h4>{{ fullname }}</h4>
          <span class="getsmarter-prof">Getsmarter Prof</span>
        </div>
        <button
          *ngIf="
            role === 'EDITEUR' ||
            role === 'MANAGER' ||
            role === 'ADMINISTRATEUR'
          "
          (click)="updateProfessor()"
        >
          <mat-icon>edit</mat-icon>
          <span>Modifier</span>
        </button>
      </div>

      <div class="subheading">
        <div>
          <p>
            <mat-icon>alternate_email</mat-icon>
            <span>email</span>
          </p>
          <h4>{{ email }}</h4>
        </div>
        <div>
          <p>
            <mat-icon>phone_in_talk</mat-icon>
            <span>Numéro téléphone</span>
          </p>
          <h4>{{ phoneNumber }}</h4>
        </div>
        <div>
          <p>
            <mat-icon>contact_emergency</mat-icon>
            <span>identifiant unique cni</span>
          </p>
          <h4>{{ cni ? cni : "Pas renseigné" }}</h4>
        </div>
        <div>
          <p>
            <mat-icon>male</mat-icon>
            <span>sexe</span>
          </p>
          <h4>{{ sexe }}</h4>
        </div>
      </div>
    </div>
  </div>

  <div class="back">
    <button (click)="backPage()">
      <mat-icon>west</mat-icon>
    </button>
  </div>
</section>
